# Words Battle game #
Цель игроков - на скорость составлять из имеющихся общих букв слова; чем слова сложнее и быстрее составлены, тем больше дается очков. Набор слов из букв происходит интерактивно: если один игрок использовал букву, то она уже не доступна другому. Игра заканчивается, когда один из игроков набирает достаточно очков (или на определенное количество больше, чем его противник).


## Game Play ##
  1. Сервер присылает пул букв, который одинково отображается у обоих игроков. Каждой букве соответствет количество очков: чем реже она встречается в языке, тем больше за нее дается очков.
  1. Игрок нажимает на букву, и он отправляется в конец его слова. (См. [DesignDocument#Game\_Modes](DesignDocument#Game_Modes.md))
> > Note: если раньше противник выбрал эту же букву, сервер мог не успеть сообщить об этом первому игроку. Поэтому в момент выбора буквы _на клиенте_ она не сразу переносится в слово, а ждет разрешения от сервера.<br><br>(Решили избавиться в данном случае от воможности перетаскивать букву в слово пальцем, потому что получается неприятный User experience из-за задержки соединения с сервером: буква будет либо оставаться в пуле и не следовать за пальцем сразу же, либо потом улетать из своего слова в слово противника.)<br><br>Если сервер сообщает, что букву взял другой игрок, она отправляется в его слово. Это позволит оценивать действия противника; можно попробовать помешать ему, забрав себе или выкинув из пула буквы, которые явно понадобятся ему для составления слова.<br>
</li></ul><ol><li>Буквы в слове можно поменять местами перетаскиванием либо удалить совсем.<br>
</li><li>Когда слово составлено, игрок нажимает кнопку "Отправить" (или делает соответствующий жест - для скорости), и слово отправляется на сервер.<br>
<blockquote>Note: пока сервер не ответит, слово остается на экране, т. к. оно может не пройти проверку по словарю. Тогда надо об этом сигнализировать игроку (подсветить слово красным и т. п.)<br>
</blockquote></li><li>Если слово защитывается, оно должно уйти с экрана, и одновременно к счет игрока добавляются очки за слово. Очки считаются по сумме очков за использованные буквы.</li></ol>

<h4>Добавить в будущем</h4>
<ul><li>Возможность выкидывать буквы "со стола"(из пула), чтобы они не достались противнику или если все буквы не подходят.</li></ul>

<h3>Game Modes</h3>
<i>Первым реализуем интерактивный режим</i>

<ol><li><b>Пошаговый.</b> Игрокам дается фиксированый пул букв: по мере использования букв из пула, пул не пополняется новыми буквами. Из слова букву можно только <i>вернуть обратно</i> в пул. Игра разбита на шаги. Когда оба игрока набрали слово, шаг заканчивается.<br>
</li><li><b>Интерактивный.</b> Игрокам дается пул, который пополняется буквами в процессе игры (через некоторое время после использования буквы на ее месте появляется новая). Игрок может <i>удалить</i> букву из слова, но не вернуть ее в пул. Игроки как можно быстрее набирают слова и отправляют их.</li></ol>


<h2>Графика</h2>
См. <a href='game_view.md'>Описание игрового поля</a>


<h2>Вопросы реализации</h2>
<ul><li>Так как получилось много функционала на сервере, решено сделать логику игры на сервере. Это проверка слова, генерация выпадающих букв и синхронизация действий игроков.<br>
</li><li>Взаимодействие с сервром решено сдлеать с помощью JSON строк. Спецификация сообщений вынесена в отдельный документ MessageSpecification.