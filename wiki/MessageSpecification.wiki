#summary Описание сообщений, с помощью которых производится общение между клиентами и сервером.

= Спецификация сообщений =

== XML Schema ==

Диаграмма:

http://words-battle.googlecode.com/svn/wiki/images/MessageSchema2.png

Верхний тэг data - для сообщений от клиента серверу.
Нижний - от сервера клиенту.

== Типы сообщений, которые нам потребуются ==

=== Организационные ===

*Игрок отправляет серверу:*
 * Регистрация и начало игры:
  * register_player_name (Игрок посылает запрос на регистрацию имени playerName)
  * request_game (Игрок отправляет запрос на игру другому пользователю с именем playerName)
  * _random_game_request_ (Играть со случайным противником. Добавим в будущем.)
 * В ответ на game_request:
  * accept_game_request (Игрок принимает запрос от игрока по имени playerName)
  * deny_game_request (Игрок отклоняет запрос от игрока по имени playerName)
 * Во время игры:
  * pick_letter (Игрок взял букву. Буква должна перенестись к нему в слово, исчезнув из общего пула.)
  * update_word (Игрок переставил буквы в слове или выкинул одну. Отправляется при этом все слово.)
  * submit_word (Игрок отправляет слово на проверку)
  * pause_game
  * resume_game

*Сервер клиенту:*
 * Ответ на register_player_name:
  * name_registered (Сервер успешно зарегистрировал пользователя)
  * name_conflict (Пользователь с таким именем уже существует!)
  * multiple_names_for_one_user_conflict (Пользователь пытается повторно зарегистрироваться)
 * Сервер оповещает игрока о запросах на игру:
  * game_request (Сервер: другой игрок хочет с вами поиграть)
  * game_request_accepted (Сервер: противник согласился принять ваш запрос)
  * game_request_denied (Сервер: противник отказался принять ваш запрос)

=== Игровые ===
*Сервер отправляет обоим игрокам:*
 * game_started
 * game_paused
 * game_resumed
 * game_ended
 * update (сервер присылает состояние общего пула букв, слова обоих игроков, очки каждого игрока)